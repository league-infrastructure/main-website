---
import BaseLayout from '../layouts/BaseLayout.astro';
import SectionHeader from '../components/SectionHeader.astro';
import {
  heroContent,
  weeklyPrograms,
  freePrograms,
  otherProgramsHome,
  careerPrep,
  tuitionAssistance,
  testimonials,
  galleryImages,
  primaryCta,
  recognition,
  newsletter,
} from '../data/home';
import '../styles/pages/home.css';
const { eyebrow, title, description, primaryCta: heroPrimary, secondaryCta, image } = heroContent;
const { title: weeklyProgramsTitle, description: weeklyProgramsDescription, programs: weeklyProgramCards } = weeklyPrograms;
const { title: freeProgramsTitle, description: freeProgramsDescription, programs: freeProgramCards } = freePrograms;
const { title: otherProgramsTitle, description: otherProgramsDescription, programs: otherProgramsList } = otherProgramsHome;
const { title: careerTitle, description: careerDescription, logos } = careerPrep;
const { title: tuitionTitle, description: tuitionDescription, note: tuitionNote, cta: tuitionCta } = tuitionAssistance;
const { title: ctaTitle, description: ctaDescription, primary, secondary } = primaryCta;
const { title: recognitionTitle, description: recognitionDescription, badges } = recognition;
const { title: newsletterTitle, description: newsletterDescription, cta: newsletterCta } = newsletter;
---

<BaseLayout
  title="Igniting Young Minds Through Coding"
  description="The League of Amazing Programmers offers weekly coding classes, mentorship, and career preparation for students in grades 4-12."
>
  <HeroSection
    class="home-hero"
    surface="tint"
    tag={eyebrow}
    title={title}
    description={description}
    actions={[
      { label: heroPrimary.label, href: heroPrimary.href, variant: 'primary' },
      {
        label: secondaryCta.label,
        href: secondaryCta.href,
        variant: 'secondary',
        target: '_blank',
        rel: 'noreferrer',
      },
    ]}
  >
    <div slot="media" class="home-hero__media">
      <div class="home-hero__blob" aria-hidden="true"></div>
      <img src={image.src} alt={image.alt} loading="lazy" />
    </div>
  </HeroSection>

  <section class="section">
    <div class="container">
      <SectionHeader title={weeklyProgramsTitle} description={weeklyProgramsDescription} />
      <div class="program-grid">
        {weeklyProgramCards.map((program) => (
          <ProgramCard
            title={program.title}
            level={program.level}
            description={program.description}
            highlights={program.highlights}
            price={program.price}
            image={program.image}
            actions={program.actions}
          />
        ))}
      </div>
    </div>
  </section>

  <section class="section section--tint">
    <div class="container">
      <SectionHeader title={freeProgramsTitle} description={freeProgramsDescription} />
      <div class="program-grid">
        {freeProgramCards.map((program) => (
          <ProgramCard
            title={program.title}
            level={program.level}
            description={program.description}
            highlights={program.highlights}
            price={program.price}
            image={program.image}
            actions={program.actions}
          />
        ))}
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container">
      <SectionHeader title={otherProgramsTitle} description={otherProgramsDescription} />
      <div class="support-grid">
        {otherProgramsList.map((program) => (
          <CalloutCard class="support-card" title={program.title}>
            <p>{program.description}</p>
            <a slot="footer" class="link" href={program.href}>Learn more</a>
          </CalloutCard>
        ))}
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container" style="text-align: center;">
      <img src="/images/2021/05/girl-scouts-2020-03.png" alt="Girl Scouts learning robotics at The League" loading="lazy" style="max-width: 100%; height: auto; border-radius: var(--radius-lg);" />
    </div>
  </section>

  <section class="section section--tint">
    <div class="container career">
      <SectionHeader title={careerTitle} description={careerDescription} align="left" />
      <div class="career__logos">
        {logos.map((logo) => (
          <figure class="career__logo">
            <img src={logo.src} alt={logo.name} loading="lazy" />
          </figure>
        ))}
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container">
      <SectionHeader title={tuitionTitle} description={tuitionDescription} />
      <p class="tuition-note">"{tuitionNote}"</p>
      <div style="text-align: center; margin-top: var(--space-lg);">
        <a class="button button--primary" href={tuitionCta.href}>
          {tuitionCta.label}
        </a>
      </div>
    </div>
  </section>

  <section class="section section--tint">
    <div class="container video">
      <SectionHeader title={videoTitle} />
      <div class="video__frame">
        <iframe
          src={`${embedUrl}?title=0&byline=0&portrait=0`}
          title="Hear from our community"
          allow="autoplay; fullscreen; picture-in-picture"
          allowfullscreen
          loading="lazy"
        />
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container">
      <SectionHeader title="Voices from The League" />
      <div class="testimonials">
        {testimonials.map((item) => (
          <blockquote>
            <p>{item.quote}</p>
            <footer>
              {item.author} <span aria-hidden="true">|</span> {item.role}
            </footer>
          </blockquote>
        ))}
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container">
      <SectionHeader title="Take a Peek Inside Our Classroom" />
      <div class="gallery">
        {galleryImages.map((image) => (
          <figure class="gallery__item">
            <img src={image.src} alt={image.alt} loading="lazy" />
          </figure>
        ))}
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container recognition">
      <SectionHeader title={recognitionTitle} description={recognitionDescription} />
      <div class="recognition__logos">
        {badges.map((badge) => (
          <a
            class="recognition__logo"
            href={badge.href}
            target="_blank"
            rel="noreferrer"
          >
            <img src={badge.src} alt={badge.name} loading="lazy" />
          </a>
        ))}
      </div>
    </div>
  </section>

  <section class="section section--surface-alt">
    <div class="container">
      <div class="newsletter">
        <div class="newsletter__copy">
          <h2>{newsletterTitle}</h2>
          <p>{newsletterDescription}</p>
        </div>
        <a class="button button--primary" href={newsletterCta.href}>
          {newsletterCta.label}
        </a>
      </div>
    </div>
  </section>

  <section class="section cta">
    <div class="container cta__inner">
      <div>
        <h2 class="cta__title">{ctaTitle}</h2>
        <p class="cta__description">{ctaDescription}</p>
      </div>
      <div class="button-group">
        <a class="button button--primary" href={primary.href}>{primary.label}</a>
        <a class="button button--secondary" href={secondary.href} target="_blank" rel="noreferrer">
          {secondary.label}
        </a>
      </div>
    </div>
  </section>
</BaseLayout>