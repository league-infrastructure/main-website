---
import BaseLayout from '../../layouts/BaseLayout.astro';
import SectionHeader from '../../components/SectionHeader.astro';
import HeroSection from '../../components/ui/HeroSection.astro';
import ProgramCard from '../../components/ui/ProgramCard.astro';
import CalloutCard from '../../components/ui/CalloutCard.astro';
import '../../styles/pages/coding-programs/base.css';
import '../../styles/pages/coding-programs/index.css';
import {
  codingProgramsHero,
  mainPrograms,
  programComparison,
  otherPrograms,
  whyHighlights,
  startOptions,
} from '../../data/codingPrograms';
---

<BaseLayout
  title="Coding Programs"
  description="Weekly Python and Java classes, free Tech Club workshops, and seasonal camps that help San Diego students grow from beginner coders to certified professionals."
>
  <HeroSection
    class="section programs-hero"
    title={codingProgramsHero.title}
    description={codingProgramsHero.description}
    note="Grades 5-12"
    details={codingProgramsHero.details}
    actions={codingProgramsHero.actions.map((action, index) => ({
      ...action,
      variant: index === 0 ? 'primary' : 'secondary',
    }))}
  >
    <figure slot="media" class="programs-hero__media">
      <img src={codingProgramsHero.image.src} alt={codingProgramsHero.image.alt} loading="lazy" />
    </figure>
  </HeroSection>

  <section class="section">
    <div class="container">
      <SectionHeader
        title="Main Programs"
        description="Choose the learning path that matches your schedule, skill level, and goals."
      />
      <div class="program-grid">
        {mainPrograms.map((program) => (
          <ProgramCard
            title={program.title}
            level={program.level}
            description={program.description}
            highlights={program.highlights}
            price={program.price}
            image={program.image}
            cta={{ label: program.cta, href: program.link, variant: 'secondary' }}
          />
        ))}
      </div>
    </div>
  </section>

  <section class="section section--accent">
    <div class="container">
      <SectionHeader
        title="Compare Our Programs"
        description="See key differences in cost, timing, and format across every League offering."
      />
      <div class="table-wrapper">
        <table>
          <thead>
            <tr>
              <th scope="col">Program</th>
              <th scope="col">Level</th>
              <th scope="col">Duration</th>
              <th scope="col">Tuition</th>
              <th scope="col">Assistance</th>
              <th scope="col">Schedule</th>
              <th scope="col">Ratio</th>
              <th scope="col">Languages</th>
            </tr>
          </thead>
          <tbody>
            {programComparison.map((row) => (
              <tr>
                <th scope="row">
                  <a href={row.link}>{row.program}</a>
                </th>
                <td>{row.level}</td>
                <td>{row.duration}</td>
                <td>{row.tuition}</td>
                <td>{row.assistance}</td>
                <td>{row.schedule}</td>
                <td>{row.ratio}</td>
                <td>{row.languages}</td>
              </tr>
            ))}
          </tbody>
        </table>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container">
      <SectionHeader
        title="More Ways to Learn"
        description="Extend your skills with specialty workshops, internships, and robotics programs."
      />
      <div class="support-grid">
        {otherPrograms.map((program) => (
          <CalloutCard class="support-card" title={program.title}>
            <p>{program.description}</p>
            <a slot="footer" class="link" href={program.href}>Learn more</a>
          </CalloutCard>
        ))}
      </div>
    </div>
  </section>

  <section class="section section--split">
    <div class="container split-grid">
      {whyHighlights.map((highlight) => (
        <CalloutCard class="split-card" title={highlight.title}>
          <p>{highlight.body}</p>
        </CalloutCard>
      ))}
    </div>
  </section>

  <section class="section section--cta">
    <div class="container cta">
      <div class="cta__copy">
        <h2>{startOptions.title}</h2>
        <p>{startOptions.description}</p>
        <a class="button" href={startOptions.action.href}>{startOptions.action.label}</a>
      </div>
      <figure class="cta__media">
        <img src={startOptions.image.src} alt={startOptions.image.alt} loading="lazy" />
      </figure>
    </div>
  </section>
</BaseLayout>
