---
import BaseLayout from '../../layouts/BaseLayout.astro';
import HeroSection from '../../components/HeroSection.astro';
import Section from '../../components/Section.astro';
---

<BaseLayout
  title="Impact & Financials"
  description="View The League of Amazing Programmers impact highlights, annual report, audited financial statements, and IRS Form 990 filings."
>
  <HeroSection
    class="section impact-hero"
    title="Impact &amp; Financials"
    description="We are committed to transparency in how we serve students and how we steward every donation. Explore our annual impact report, audited statements, and IRS filings below."
  />

  <Section sectionClass="section--surface-alt" class="impact-reports">
    <div class="impact-report-latest">
      <div class="impact-report__header">
        <h2>The League of Amazing Programmers Impact Report 2024–25</h2>
        <div class="impact-report__buttons">
          <a
            class="impact-report__button impact-report__button--primary"
            href="/about/impact/impact24"
          >
            View 2024-25 Impact Report
          </a>
        </div>
      </div>
      <div class="impact-report__summary">
        <div class="impact-highlights">
          <div class="highlight-stat">
            <span class="stat-number">1,236</span>
            <span class="stat-label">Student attendances</span>
          </div>
          <div class="highlight-stat">
            <span class="stat-number">40.7%</span>
            <span class="stat-label">Female participation</span>
          </div>
          <div class="highlight-stat">
            <span class="stat-number">117</span>
            <span class="stat-label">Free Tech Club events</span>
          </div>
          <div class="highlight-stat">
            <span class="stat-number">30+</span>
            <span class="stat-label">Program sites</span>
          </div>
        </div>
      </div>
    </div>

    <div class="impact-report-archive">
      <div class="impact-report__header">
        <h3>Previous Impact Reports</h3>
      </div>
      <div class="archive-item">
        <h4>2022–23 Impact Report</h4>
        <a
          class="impact-report__button impact-report__button--secondary"
          href="/images/2023/12/The-League-of-Amazing-Programmers-Impact-Report-2022-23.pdf"
          target="_blank"
          rel="noreferrer"
        >
          Download PDF
        </a>
      </div>
      <div class="archive-embed">
        <iframe
          title="The League Impact Report 2022–23"
          src="https://e.issuu.com/embed.html?backgroundColor=%23f5f5ef&d=the_league_of_amazing_programmers_impact_report_20&u=jointheleague"
          loading="lazy"
          allowfullscreen
        />
      </div>
    </div>
  </Section>

  <Section class="impact-links">
    <div class="impact-links__column card">
      <h3>Form 990 Filings</h3>
      <ul class="list-reset impact-links__list">
        <li><a href="/images/2023/12/2022_WTS_990_pg1.pdf" target="_blank" rel="noreferrer">2022 WTS 990</a></li>
        <li><a href="/images/2023/12/2021_WTS_990_pg1.pdf" target="_blank" rel="noreferrer">2021 WTS 990</a></li>
        <li><a href="/images/2023/12/2020_WTS_990.pdf" target="_blank" rel="noreferrer">2020 WTS 990</a></li>
        <li><a href="/images/2023/12/2019_WTS_990_pg1.pdf" target="_blank" rel="noreferrer">2019 WTS 990</a></li>
      </ul>
    </div>
    <div class="impact-links__column card">
      <h3>Audited Financial Statements</h3>
      <ul class="list-reset impact-links__list">
        <li><a href="/images/2023/12/2019-2020-WTS-Audited-Financial-Statements.pdf" target="_blank" rel="noreferrer">2019–2020 Audited Financials</a></li>
        <li><a href="/images/2023/12/2017-2018-WTS-Audited-Financial-Statements.pdf" target="_blank" rel="noreferrer">2017–2018 Audited Financials</a></li>
      </ul>
    </div>
  </Section>
</BaseLayout>

<style>
  .impact-hero {
    position: relative;
    background: linear-gradient(
      180deg,
      rgba(93, 95, 239, 0.22) 0%,
      rgba(243, 113, 33, 0.14) 45%,
      var(--color-peach) 100%
    );
    padding: var(--space-4xl) 0 var(--space-3xl);
  }

  .impact-hero::before {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(
        circle at 12% 18%,
        rgba(93, 95, 239, 0.28),
        transparent 45%
      ),
      radial-gradient(
        circle at 88% 12%,
        rgba(243, 113, 33, 0.18),
        transparent 35%
      );
    pointer-events: none;
  }

  .impact-reports {
    display: grid;
    gap: var(--space-2xl);
  }

  .impact-report-latest {
    background: var(--color-surface);
    padding: var(--space-2xl);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-card);
  }

  .impact-report-archive {
    background: var(--color-surface-alt);
    padding: var(--space-xl);
    border-radius: var(--radius-md);
  }

  .impact-report__header {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-lg);
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--space-lg);
  }

  .impact-report__buttons {
    display: flex;
    gap: var(--space-md);
    flex-wrap: wrap;
  }

  .impact-report__button {
    display: inline-block;
    padding: var(--space-md) var(--space-xl);
    border-radius: var(--radius-sm);
    text-decoration: none;
    font-weight: 600;
    transition: all 0.2s ease;
  }

  .impact-report__button--primary {
    background: var(--color-primary);
    color: white;
  }

  .impact-report__button--primary:hover {
    background: var(--color-primary-dark);
  }

  .impact-report__button--secondary {
    background: var(--color-secondary);
    color: white;
  }

  .impact-report__button--secondary:hover {
    background: var(--color-secondary);
    opacity: 0.9;
  }

  .impact-report__summary {
    margin-top: var(--space-lg);
  }

  .impact-highlights {
    display: grid;
    gap: var(--space-lg);
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  }

  .highlight-stat {
    text-align: center;
    padding: var(--space-md);
    background: var(--color-surface-alt);
    border-radius: var(--radius-sm);
  }

  .stat-number {
    display: block;
    font-size: clamp(20px, 4vw, 28px);
    font-weight: 700;
    color: var(--color-primary);
    line-height: 1;
  }

  .stat-label {
    display: block;
    font-size: 0.85rem;
    color: var(--color-body);
    margin-top: var(--space-xs);
  }

  .archive-item {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-md);
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--space-lg);
    padding: var(--space-lg);
    background: var(--color-surface);
    border-radius: var(--radius-sm);
    box-shadow: var(--shadow-card);
  }

  .archive-item h4 {
    margin: 0;
    color: var(--color-text);
  }

  .archive-embed {
    position: relative;
    padding-top: min(65%, 560px);
    border-radius: var(--radius-md);
    overflow: hidden;
    box-shadow: var(--shadow-card);
    background: #f5f5ef;
    margin-top: var(--space-lg);
  }

  .archive-embed iframe {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    border: 0;
  }

  .impact-links {
    display: grid;
    gap: var(--space-xl);
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  }

  .impact-links__list {
    display: grid;
    gap: var(--space-sm);
  }
</style>
