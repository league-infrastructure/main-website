---
import BaseLayout from '../layouts/BaseLayout.astro';
import HeroSection from '../components/ui/HeroSection.astro';
import ProgramCard from '../components/ui/ProgramCard.astro';
import CalloutCard from '../components/ui/CalloutCard.astro';
import SectionHeader from '../components/SectionHeader.astro';
import {
  heroContent,
  weeklyPrograms,
  freePrograms,
  otherProgramsHome,
  careerPrep,
  communityVideo,
  testimonials,
  galleryImages,
  primaryCta,
  recognition,
  newsletter,
} from '../data/home';
import '../styles/pages/home.css';
const { eyebrow, title, description, primaryCta: heroPrimary, secondaryCta, image } = heroContent;
const {
  title: weeklyProgramsTitle,
  description: weeklyProgramsDescription,
  programs: weeklyProgramCards,
} = weeklyPrograms;
const { title: freeProgramsTitle, description: freeProgramsDescription, programs: freeProgramCards } = freePrograms;
const {
  title: otherProgramsTitle,
  description: otherProgramsDescription,
  programs: otherProgramsList,
} = otherProgramsHome;
const {
  title: careerTitle,
  description: careerDescription,
  logos,
} = careerPrep;
const { title: videoTitle, embedUrl } = communityVideo;
const { title: ctaTitle, description: ctaDescription, primary, secondary } = primaryCta;
const { title: recognitionTitle, description: recognitionDescription, badges } = recognition;
const { title: newsletterTitle, description: newsletterDescription, cta: newsletterCta } = newsletter;
---

<BaseLayout
  title="Igniting Young Minds Through Coding"
  description="The League of Amazing Programmers offers weekly coding classes, mentorship, and career preparation for students in grades 4-12."
>
  <!-- Custom Hero Section to match original site -->
  <section class="custom-hero">
    <div class="container">
      <div class="custom-hero__content">
        <div class="custom-hero__left">
          <!-- Replace "Igniting Young Minds" text with the logo -->
          <img src="/images/2023/02/League-Logo-F-Horiz-Orange-FINAL-1-1200x325.png" 
               alt="The League of Amazing Programmers" 
               class="custom-hero__logo" />
          <h1 class="custom-hero__tagline">Igniting Young Minds Through Coding</h1>
          <p class="custom-hero__description">
            <strong>At The League of Amazing Programmers, we prepare kids for the science and technology careers of the 21st century</strong> through a multi-level program of weekly classes up to industry certification.
          </p>
        </div>
        <div class="custom-hero__right">
          <img src={image.src} alt={image.alt} class="custom-hero__image" />
          <!-- Add nonprofit badge -->
          <img src="/images/2021/09/Seal-2023-transp-1400px.png" 
               alt="2023 California Nonprofit of the Year" 
               class="custom-hero__badge" />
        </div>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container">
      <SectionHeader title={weeklyProgramsTitle} description={weeklyProgramsDescription} />
      <div class="program-grid">
        {weeklyProgramCards.map((program) => (
          <ProgramCard
            title={program.title}
            level={program.level}
            description={program.description}
            highlights={program.highlights}
            price={program.price}
            image={program.image}
            actions={program.actions}
          />
        ))}
      </div>
    </div>
  </section>

  <section class="section section--tint">
    <div class="container">
      <SectionHeader title={freeProgramsTitle} description={freeProgramsDescription} />
      <div class="program-grid">
        {freeProgramCards.map((program) => (
          <ProgramCard
            title={program.title}
            level={program.level}
            description={program.description}
            highlights={program.highlights}
            price={program.price}
            image={program.image}
            actions={program.actions}
          />
        ))}
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container">
      <SectionHeader title={otherProgramsTitle} description={otherProgramsDescription} />
      <div class="support-grid">
        {otherProgramsList.map((program) => (
          <CalloutCard class="support-card" title={program.title}>
            <p>{program.description}</p>
            <a slot="footer" class="link" href={program.href}>Learn more</a>
          </CalloutCard>
        ))}
      </div>
    </div>
  </section>

  <section class="section section--tint">
    <div class="container career">
      <SectionHeader title={careerTitle} description={careerDescription} align="left" />
      <div class="career__logos">
        {logos.map((logo) => (
          <figure class="career__logo">
            <img src={logo.src} alt={logo.name} loading="lazy" />
          </figure>
        ))}
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container">
      <SectionHeader title="Voices from The League" />
      <div class="testimonials">
        {testimonials.map((item) => (
          <blockquote>
            <p>{item.quote}</p>
            <footer>
              {item.author} <span aria-hidden="true">|</span> {item.role}
            </footer>
          </blockquote>
        ))}
      </div>
    </div>
  </section>

  <section class="section section--tint">
    <div class="container">
      <h2>Hear From Our Community</h2>
      <div style="text-align: center; margin: 2rem 0;">
        <iframe
          src="https://player.vimeo.com/video/290793328?title=0&byline=0&portrait=0"
          width="640"
          height="360"
          title="Hear from our community"
          allow="autoplay; fullscreen; picture-in-picture"
          allowfullscreen
        ></iframe>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container">
      <SectionHeader title="Take a Peek Inside Our Classroom" />
      <div class="gallery">
        {galleryImages.map((image) => (
          <figure class="gallery__item">
            <img src={image.src} alt={image.alt} loading="lazy" />
          </figure>
        ))}
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container recognition">
      <SectionHeader title={recognitionTitle} description={recognitionDescription} />
      <div class="recognition__logos">
        {badges.map((badge) => (
          <a
            class="recognition__logo"
            href={badge.href}
            target="_blank"
            rel="noreferrer"
          >
            <img src={badge.src} alt={badge.name} loading="lazy" />
          </a>
        ))}
      </div>
    </div>
  </section>

  <section class="section section--surface-alt">
    <div class="container">
      <div class="newsletter">
        <div class="newsletter__copy">
          <h2>{newsletterTitle}</h2>
          <p>{newsletterDescription}</p>
        </div>
        <a class="button button--primary" href={newsletterCta.href}>
          {newsletterCta.label}
        </a>
      </div>
    </div>
  </section>

  <section class="section cta">
    <div class="container cta__inner">
      <div>
        <h2 class="cta__title">{ctaTitle}</h2>
        <p class="cta__description">{ctaDescription}</p>
      </div>
      <div class="button-group">
        <a class="button button--primary" href={primary.href}>{primary.label}</a>
        <a class="button button--secondary" href={secondary.href} target="_blank" rel="noreferrer">
          {secondary.label}
        </a>
      </div>
    </div>
  </section>
</BaseLayout>