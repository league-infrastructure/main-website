---
import type { HTMLAttributes } from "astro/types";

interface Props extends HTMLAttributes<"footer"> {}

const { class: className, ...rest } = Astro.props as Props & { class?: string };

// Check if we have slots
const hasPrimary = Astro.slots.has("primary");
const hasSecondary = Astro.slots.has("secondary");
const hasLearnMore = Astro.slots.has("learn-more");
const hasPrice = Astro.slots.has("price");
const hasDefault = Astro.slots.has("default");
---

<footer class:list={["card__footer", className]} {...rest}>
  {
    hasDefault && (
      <div class="card__content">
        <slot />
      </div>
    )
  }
  {
    hasPrice && (
      <div class="card__price">
        <slot name="price" />
      </div>
    )
  }
  {
    (hasPrimary || hasSecondary) && (
      <div
        class:list={[
          "button-group",
          hasPrimary && hasSecondary
            ? "enrollment-buttons"
            : "learn-more-button",
        ]}
      >
        <slot name="primary" />
        <slot name="secondary" />
      </div>
    )
  }
  {
    hasLearnMore && (
      <div class="button-group learn-more-button">
        <slot name="learn-more" />
      </div>
    )
  }
</footer>

<style>

  .card__footer {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    align-items: center;
    padding: 0 var(--space-xl) var(--space-xl);
  }

  .card__footer .card__content {
    width: 100%;
  }

  .card__footer .button-group {
    justify-content: center;
    width: 100%;
  }

  .card__footer .learn-more-button {
    width: 100%;
    align-self: center;
  }

  .card__footer .learn-more-button :global(*) {
    display: inline-flex;
    justify-content: center;
    margin-inline: auto;
    text-align: center;
  }
</style>
